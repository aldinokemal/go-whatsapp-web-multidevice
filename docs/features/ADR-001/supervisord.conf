; Sample supervisord.conf for GOWA multi-instance orchestration
; Hardened for local-only RPC. Put per-instance program files in /etc/supervisor/conf.d/

[supervisord]
; For systemd service: nodaemon=false (default). In containers, use nodaemon=true.
nodaemon=true
logfile=/var/log/supervisor/supervisord.log
pidfile=/var/run/supervisord.pid
childlogdir=/var/log/supervisor

; === Prefer UNIX socket (commented example) ===
;[unix_http_server]
;file=/var/run/supervisor.sock
;chmod=0700

; === Loopback-only HTTP/RPC (Web UI + XML-RPC) ===
[inet_http_server]
port=127.0.0.1:9001
username=admin
password=change-me-now

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[supervisorctl]
; If using unix socket:
; serverurl=unix:///var/run/supervisor.sock
; Else, loopback HTTP:
serverurl=http://127.0.0.1:9001
username=admin
password=change-me-now

; Include per-instance programs like gowa-3001.conf, gowa-3002.conf, ...
[include]
files = /etc/supervisor/conf.d/*.conf
